<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Excellence Academy</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: #FAFAFA;
        }

        :root {
            --primary-gold: #FFD700;
            --secondary-gold: #FFA500;
            --dark-gold: #B8860B;
            --white: #FFFFFF;
            --light-gray: #F8F9FA;
            --dark-gray: #2C3E50;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* Navigation - Same as homepage */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: var(--white);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .logo {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--dark-gold);
            text-decoration: none;
        }

        .logo i {
            margin-right: 0.5rem;
            font-size: 2rem;
            color: var(--primary-gold);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--dark-gold);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-gold);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after,
        .nav-links a.active::after {
            width: 100%;
        }

        .phone-btn {
            background: var(--primary-gold);
            color: var(--dark-gray);
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .phone-btn:hover {
            background: var(--dark-gold);
            color: var(--white);
            transform: translateY(-2px);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 0.5rem;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: var(--dark-gold);
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 3px;
        }

        /* Gallery Header */
        .gallery-header {
            margin-top: 80px;
            padding: 2rem;
            text-align: center;
            background: var(--white);
            border-bottom: 1px solid #E0E0E0;
        }

        .gallery-header h1 {
            font-size: 2.5rem;
            color: var(--dark-gold);
            margin-bottom: 0.5rem;
        }

        .gallery-header p {
            font-size: 1.1rem;
            color: var(--dark-gray);
            opacity: 0.8;
        }

        /* Filter Tabs */
        .filter-tabs {
            background: var(--white);
            padding: 1rem 2rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            border-bottom: 1px solid #E0E0E0;
            flex-wrap: wrap;
        }

        .filter-tab {
            background: transparent;
            border: 2px solid #E0E0E0;
            color: var(--dark-gray);
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .filter-tab:hover,
        .filter-tab.active {
            border-color: var(--primary-gold);
            background: var(--primary-gold);
            color: var(--dark-gray);
            transform: translateY(-2px);
        }

        /* Pinterest-style Masonry Gallery */
        .gallery-container {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .masonry-grid {
            display: columns;
            columns: 4;
            column-gap: 20px;
            margin: 0 auto;
        }

        .gallery-item {
            break-inside: avoid;
            margin-bottom: 20px;
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: all 0.4s ease;
            cursor: pointer;
            background: var(--white);
        }

        .gallery-item:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .gallery-item img {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.4s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.7) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            padding: 1.5rem;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        .gallery-title {
            color: var(--white);
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .gallery-description {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .gallery-category {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--primary-gold);
            color: var(--dark-gray);
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Loading Animation */
        .loading {
            text-align: center;
            padding: 3rem;
            color: var(--primary-gold);
        }

        .loading i {
            font-size: 3rem;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Lightbox Modal */
        .lightbox {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 2rem;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 90%;
            position: relative;
        }

        .lightbox-image {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        .lightbox-close {
            position: absolute;
            top: -50px;
            right: 0;
            background: var(--primary-gold);
            color: var(--dark-gray);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .lightbox-close:hover {
            background: var(--white);
            transform: scale(1.1);
        }

        .lightbox-info {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 0 0 10px 10px;
            margin-top: -5px;
        }

        .lightbox-title {
            color: var(--dark-gold);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .lightbox-description {
            color: var(--dark-gray);
            line-height: 1.6;
        }

        /* Footer - Same as homepage */
        .footer {
            background: var(--dark-gray);
            color: var(--white);
            padding: 3rem 2rem 1rem;
            margin-top: 3rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            color: var(--primary-gold);
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .footer-section p,
        .footer-section a {
            color: var(--white);
            text-decoration: none;
            line-height: 1.8;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: var(--primary-gold);
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .social-links a {
            background: var(--primary-gold);
            color: var(--dark-gray);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: var(--white);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }

        /* Mobile Responsive */
        @media (max-width: 1200px) {
            .masonry-grid {
                columns: 3;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed;
                top: 80px;
                left: -100%;
                width: 100%;
                height: calc(100vh - 80px);
                background: var(--white);
                flex-direction: column;
                justify-content: start;
                padding-top: 2rem;
                transition: left 0.3s ease;
                box-shadow: var(--shadow);
            }

            .nav-links.active {
                left: 0;
            }

            .hamburger {
                display: flex;
            }

            .hamburger.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
            }

            .hamburger.active span:nth-child(2) {
                opacity: 0;
            }

            .hamburger.active span:nth-child(3) {
                transform: rotate(-45deg) translate(7px, -6px);
            }

            .masonry-grid {
                columns: 2;
                column-gap: 15px;
            }

            .gallery-item {
                margin-bottom: 15px;
            }

            .gallery-header h1 {
                font-size: 2rem;
            }

            .filter-tabs {
                padding: 1rem;
            }

            .gallery-container {
                padding: 1.5rem 1rem;
            }

            .navbar {
                padding: 1rem;
            }

            .footer {
                padding: 2rem 1rem 1rem;
            }
        }

        @media (max-width: 480px) {
            .masonry-grid {
                columns: 1;
            }

            .gallery-header {
                padding: 1.5rem 1rem;
            }

            .gallery-header h1 {
                font-size: 1.8rem;
            }

            .filter-tabs {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: 1rem;
            }

            .filter-tab {
                white-space: nowrap;
                flex-shrink: 0;
            }

            .lightbox-content {
                max-width: 95%;
            }
        }

        /* Fade in animation for gallery items */
        .gallery-item {
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Staggered animation delays */
        .gallery-item:nth-child(1) { animation-delay: 0.1s; }
        .gallery-item:nth-child(2) { animation-delay: 0.2s; }
        .gallery-item:nth-child(3) { animation-delay: 0.3s; }
        .gallery-item:nth-child(4) { animation-delay: 0.4s; }
        .gallery-item:nth-child(5) { animation-delay: 0.5s; }
        .gallery-item:nth-child(6) { animation-delay: 0.6s; }
        .gallery-item:nth-child(7) { animation-delay: 0.7s; }
        .gallery-item:nth-child(8) { animation-delay: 0.8s; }
        .gallery-item:nth-child(n+9) { animation-delay: 0.9s; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <a href="/" class="logo">
            <i class="fas fa-graduation-cap"></i>
            Excellence Academy
        </a>
        <ul class="nav-links" id="navLinks">
            <li><a href="/">Home</a></li>
            <li><a href="/courses">Courses</a></li>
            <li><a href="#gallery" class="active">Gallery</a></li>
            <li><a href="/about">About Us</a></li>
            <li><a href="/contact">Contact</a></li>
        </ul>
        <a href="tel:+919876543210" class="phone-btn">
            <i class="fas fa-phone"></i>
            Call Now
        </a>
        <div class="hamburger" id="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </nav>

    <!-- Gallery Header -->
    <section class="gallery-header">
        <h1>Our Gallery</h1>
        <p>Explore moments of learning, achievement, and success at Excellence Academy</p>
    </section>

    <!-- Filter Tabs -->
    <section class="filter-tabs">
        <button class="filter-tab active" data-filter="all">All Photos</button>
        <button class="filter-tab" data-filter="campus">Campus Life</button>
        <button class="filter-tab" data-filter="classroom">Classrooms</button>
        <button class="filter-tab" data-filter="events">Events</button>
        <button class="filter-tab" data-filter="graduation">Graduation</button>
        <button class="filter-tab" data-filter="facilities">Facilities</button>
    </section>

    <!-- Gallery Container -->
    <section class="gallery-container">
        <div class="masonry-grid" id="galleryGrid">
            <!-- Gallery items will be dynamically loaded here -->
        </div>
        <div class="loading" id="loading">
            <i class="fas fa-spinner"></i>
            <p>Loading amazing moments...</p>
        </div>
    </section>

    <!-- Lightbox Modal -->
    <div class="lightbox" id="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close" onclick="closeLightbox()">
                <i class="fas fa-times"></i>
            </button>
            <img src="" alt="" class="lightbox-image" id="lightboxImage">
            <div class="lightbox-info">
                <div class="lightbox-title" id="lightboxTitle"></div>
                <div class="lightbox-description" id="lightboxDescription"></div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>Excellence Academy</h3>
                <p>Empowering students with world-class education and practical skills for over a decade. Join our community of successful learners and transform your career.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    <a href="#"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <p><a href="/courses">Our Courses</a></p>
                <p><a href="/about">About Us</a></p>
                <p><a href="#gallery">Gallery</a></p>
                <p><a href="/contact">Contact</a></p>
                <p><a href="#">Admissions</a></p>
            </div>
            <div class="footer-section">
                <h3>Contact Info</h3>
                <p><i class="fas fa-map-marker-alt"></i> 123 Education Street, Mumbai</p>
                <p><i class="fas fa-phone"></i> +91 22 1234 5678</p>
                <p><i class="fas fa-envelope"></i> info@excellenceacademy.edu</p>
                <p><i class="fas fa-clock"></i> Mon-Fri: 9AM-7PM</p>
            </div>
            <div class="footer-section">
                <h3>Popular Courses</h3>
                <p><a href="#">Full Stack Development</a></p>
                <p><a href="#">Data Science</a></p>
                <p><a href="#">Digital Marketing</a></p>
                <p><a href="#">UI/UX Design</a></p>
                <p><a href="#">Business Analytics</a></p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Excellence Academy. All rights reserved. | Privacy Policy | Terms of Service</p>
        </div>
    </footer>

    <script>
        // Gallery data
        const galleryData = [
            {
                id: 1,
                src: "https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=400&h=600&fit=crop",
                title: "Modern Classroom",
                description: "State-of-the-art classroom equipped with latest technology for interactive learning.",
                category: "classroom"
            },
            {
                id: 2,
                src: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?w=400&h=500&fit=crop",
                title: "Campus Building",
                description: "Our beautiful campus providing an inspiring environment for learning and growth.",
                category: "campus"
            },
            {
                id: 3,
                src: "https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=400&h=700&fit=crop",
                title: "Computer Lab",
                description: "Advanced computer laboratory with high-end systems for practical programming sessions.",
                category: "facilities"
            },
            {
                id: 4,
                src: "https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400&h=450&fit=crop",
                title: "Study Session",
                description: "Students engaged in collaborative learning and project development.",
                category: "classroom"
            },
            {
                id: 5,
                src: "https://images.unsplash.com/photo-1524178232363-1fb2b075b655?w=400&h=550&fit=crop",
                title: "Library",
                description: "Well-stocked library with extensive collection of technical books and resources.",
                category: "facilities"
            },
            {
                id: 6,
                src: "https://images.unsplash.com/photo-1562774053-701939374585?w=400&h=480&fit=crop",
                title: "Graduation Day",
                description: "Celebrating the success of our graduates as they embark on their professional journey.",
                category: "graduation"
            },
            {
                id: 7,
                src: "https://images.unsplash.com/photo-1515187029135-18ee286d815b?w=400&h=650&fit=crop",
                title: "Tech Workshop",
                description: "Hands-on workshop session teaching latest industry technologies and practices.",
                category: "events"
            },
            {
                id: 8,
                src: "https://images.unsplash.com/photo-1556139943-4bdca53adf1e?w=400&h=520&fit=crop",
                title: "Campus Cafeteria",
                description: "Modern cafeteria where students relax and network during breaks.",
                category: "campus"
            },
            {
                id: 9,
                src: "https://images.unsplash.com/photo-1497486751825-1233686d5d80?w=400&h=580&fit=crop",
                title: "Innovation Lab",
                description: "Cutting-edge innovation lab where students work on breakthrough projects.",
                category: "facilities"
            },
            {
                id: 10,
                src: "https://images.unsplash.com/photo-1503676260728-1c00da094a0b?w=400&h=420&fit=crop",
                title: "Group Discussion",
                description: "Students participating in group discussions and brainstorming sessions.",
                category: "classroom"
            },
            {
                id: 11,
                src: "https://images.unsplash.com/photo-1509062522246-3755977927d7?w=400&h=600&fit=crop",
                title: "Annual Conference",
                description: "Annual tech conference featuring industry experts and thought leaders.",
                category: "events"
            },
            {
                id: 12,
                src: "https://images.unsplash.com/photo-1546410531-bb4caa6b424d?w=400&h=470&fit=crop",
                title: "Recreation Area",
                description: "Outdoor recreation area where students unwind and participate in activities.",
                category: "campus"
            },
            {
                id: 13,
                src: "https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=400&h=680&fit=crop",
                title: "Team Collaboration",
                description: "Students working together on collaborative projects and assignments.",
                category: "classroom"
            },
            {
                id: 14,
                src: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400&h=530&fit=crop",
                title: "Achievement Awards",
                description: "Recognition ceremony honoring outstanding student achievements and excellence.",
                category: "graduation"
            },
            {
                id: 15,
                src: "https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?w=400&h=490&fit=crop",
                title: "Seminar Hall",
                description: "Spacious seminar hall hosting guest lectures and industry interactions.",
                category: "facilities"
            }
        ];

        // Current filter
        let currentFilter = 'all';
        let filteredData = galleryData;

        // Mobile Navigation
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            hamburger.classList.toggle('active');
        });

        // Close menu when clicking on a link
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                hamburger.classList.remove('active');
            });
        });

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 100) {
                navbar.style.background = 'rgba(255, 255, 255, 0.95)';
                navbar.style.backdropFilter = 'blur(10px)';
            } else {
                navbar.style.background = 'var(--white)';
                navbar.style.backdropFilter = 'none';
            }
        });

        // Filter functionality
        document.querySelectorAll('.filter-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // Update active tab
                document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // Get filter value
                currentFilter = tab.getAttribute('data-filter');
                
                // Filter and reload gallery
                filterGallery();
            });
        });

        // Filter gallery items
        function filterGallery() {
            if (currentFilter === 'all') {
                filteredData = galleryData;
            } else {
                filteredData = galleryData.filter(item => item.category === currentFilter);
            }
            
            loadGallery();
        }

        // Load gallery items
        function loadGallery() {
            const galleryGrid = document.getElementById('galleryGrid');
            const loading = document.getElementById('loading');
            
            // Show loading
            loading.style.display = 'block';
            galleryGrid.innerHTML = '';
            
            // Simulate loading delay
            setTimeout(() => {
                loading.style.display = 'none';
                
                filteredData.forEach((item, index) => {
                    const galleryItem = createGalleryItem(item, index);
                    galleryGrid.appendChild(galleryItem);
                });
                
                // Reset animation delays
                document.querySelectorAll('.gallery-item').forEach((item, index) => {
                    item.style.animationDelay = `${index * 0.1}s`;
                });
                
            }, 500);
        }

        // Create gallery item element
        function createGalleryItem(data, index) {
            const item = document.createElement('div');
            item.className = 'gallery-item';
            item.innerHTML = `
                <div class="gallery-category">${data.category}</div>
                <img src="${data.src}" alt="${data.title}" loading="lazy">
                <div class="gallery-overlay">
                    <div class="gallery-title">${data.title}</div>
                    <div class="gallery-description">${data.description}</div>
                </div>
            `;
            
            // Add click event for lightbox
            item.addEventListener('click', () => {
                openLightbox(data);
            });
            
            return item;
        }

        // Lightbox functionality
        function openLightbox(data) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxTitle = document.getElementById('lightboxTitle');
            const lightboxDescription = document.getElementById('lightboxDescription');
            
            lightboxImage.src = data.src;
            lightboxImage.alt = data.title;
            lightboxTitle.textContent = data.title;
            lightboxDescription.textContent = data.description;
            
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // Close lightbox when clicking outside
        document.getElementById('lightbox').addEventListener('click', (e) => {
            if (e.target.id === 'lightbox') {
                closeLightbox();
            }
        });

        // Close lightbox with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeLightbox();
            }
        });

        // Initialize gallery
        document.addEventListener('DOMContentLoaded', () => {
            loadGallery();
        });

        // Lazy loading intersection observer
        const imageObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src;
                    img.classList.remove('lazy');
                    imageObserver.unobserve(img);
                }
            });
        });

        // Observe all lazy images
        document.querySelectorAll('img[data-src]').forEach(img => {
            imageObserver.observe(img);
        });

        // Add smooth hover effects
        document.addEventListener('mouseover', (e) => {
            if (e.target.classList.contains('gallery-item') || e.target.closest('.gallery-item')) {
                const item = e.target.classList.contains('gallery-item') ? e.target : e.target.closest('.gallery-item');
                item.style.zIndex = '10';
            }
        });

        document.addEventListener('mouseout', (e) => {
            if (e.target.classList.contains('gallery-item') || e.target.closest('.gallery-item')) {
                const item = e.target.classList.contains('gallery-item') ? e.target : e.target.closest('.gallery-item');
                setTimeout(() => {
                    item.style.zIndex = '1';
                }, 300);
            }
        });

        // Handle window resize for masonry layout
        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                // Refresh masonry layout
                const galleryGrid = document.getElementById('galleryGrid');
                const items = galleryGrid.children;
                
                // Temporarily hide items
                Array.from(items).forEach(item => {
                    item.style.opacity = '0';
                });
                
                // Show items after layout recalculation
                setTimeout(() => {
                    Array.from(items).forEach((item, index) => {
                        item.style.opacity = '1';
                        item.style.animationDelay = `${index * 0.05}s`;
                    });
                }, 100);
            }, 250);
        });

        // Add loading states for images
        document.addEventListener('DOMContentLoaded', () => {
            const images = document.querySelectorAll('.gallery-item img');
            let loadedImages = 0;
            
            images.forEach(img => {
                if (img.complete) {
                    loadedImages++;
                } else {
                    img.addEventListener('load', () => {
                        loadedImages++;
                        if (loadedImages === images.length) {
                            // All images loaded
                            document.body.classList.add('images-loaded');
                        }
                    });
                }
            });
            
            if (loadedImages === images.length) {
                document.body.classList.add('images-loaded');
            }
        });

        // Add search functionality (bonus feature)
        function searchGallery(searchTerm) {
            if (!searchTerm) {
                filteredData = currentFilter === 'all' ? galleryData : galleryData.filter(item => item.category === currentFilter);
            } else {
                const baseData = currentFilter === 'all' ? galleryData : galleryData.filter(item => item.category === currentFilter);
                filteredData = baseData.filter(item => 
                    item.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    item.description.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    item.category.toLowerCase().includes(searchTerm.toLowerCase())
                );
            }
            loadGallery();
        }

        // Keyboard navigation for lightbox
        document.addEventListener('keydown', (e) => {
            const lightbox = document.getElementById('lightbox');
            if (lightbox.classList.contains('active')) {
                if (e.key === 'ArrowLeft') {
                    // Navigate to previous image (can be implemented)
                    e.preventDefault();
                } else if (e.key === 'ArrowRight') {
                    // Navigate to next image (can be implemented)
                    e.preventDefault();
                }
            }
        });

        // Performance optimization: Debounced scroll handler
        let scrollTimer;
        const debouncedScrollHandler = () => {
            clearTimeout(scrollTimer);
            scrollTimer = setTimeout(() => {
                // Additional scroll-based optimizations can be added here
            }, 16); // ~60fps
        };

        window.addEventListener('scroll', debouncedScrollHandler, { passive: true });

        // Add touch support for mobile lightbox navigation
        let touchStartX = 0;
        let touchEndX = 0;

        document.getElementById('lightbox').addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.getElementById('lightbox').addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipeGesture();
        });

        function handleSwipeGesture() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    // Swipe left - next image
                    console.log('Next image');
                } else {
                    // Swipe right - previous image
                    console.log('Previous image');
                }
            }
        }

        // Add fade-in effect for better UX
        window.addEventListener('load', () => {
            document.body.style.opacity = '1';
            document.body.style.transition = 'opacity 0.3s ease';
        });
    </script>
</body>
</html>